{"version":3,"sources":["webpack:///./src/views/seller/food/update-food.vue?0415","webpack:///src/views/seller/food/update-food.vue","webpack:///./src/views/seller/food/update-food.vue?35f3","webpack:///./src/views/seller/food/update-food.vue","webpack:///./src/views/seller/food/update-food.vue?68cc"],"names":["render","_vm","this","_h","$createElement","_c","_self","showImg","_e","attrs","size","_v","src","formPlaceholder","foodImage","staticClass","action","actionUrl","data","formLeft","on-success","uploadHandle","show-upload-list","icon","model","label-position","label-width","label","placeholder","foodName","value","callback","$$v","$set","expression","foodDescribe","foodPrice","type","on","click","updateClick","staticRenderFns","update_foodvue_type_script_lang_js_","[object Object]","foodId","$route","query","canteenId","Object","api","then","res","status","$Message","error","food","err","methods","success","$router","push","name","file","loadingStatus","setTimeout","food_update_foodvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_update_food_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_update_food_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-3b41ad0a.69bfc233.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.showImg)?_c('Avatar',{attrs:{\"size\":\"large\"}},[_vm._v(\"暂无图片\")]):_vm._e(),(_vm.showImg)?_c('Avatar',{attrs:{\"src\":_vm.formPlaceholder.foodImage,\"size\":\"large\"}}):_vm._e(),_c('Upload',{staticClass:\"upload\",attrs:{\"action\":_vm.actionUrl,\"data\":_vm.formLeft,\"on-success\":_vm.uploadHandle,\"show-upload-list\":false}},[_c('Button',{attrs:{\"icon\":\"ios-cloud-upload-outline\"}},[_vm._v(\"修改头像\")])],1),_c('Form',{attrs:{\"model\":_vm.formLeft,\"label-position\":\"left\",\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"食物名字\"}},[_c('Input',{attrs:{\"placeholder\":_vm.formPlaceholder.foodName},model:{value:(_vm.formLeft.foodName),callback:function ($$v) {_vm.$set(_vm.formLeft, \"foodName\", $$v)},expression:\"formLeft.foodName\"}})],1),_c('FormItem',{attrs:{\"label\":\"食物描述\"}},[_c('Input',{attrs:{\"placeholder\":_vm.formPlaceholder.foodDescribe},model:{value:(_vm.formLeft.foodDescribe),callback:function ($$v) {_vm.$set(_vm.formLeft, \"foodDescribe\", $$v)},expression:\"formLeft.foodDescribe\"}})],1),_c('FormItem',{attrs:{\"label\":\"食物价格\"}},[_c('Input',{attrs:{\"placeholder\":_vm.formPlaceholder.foodPrice},model:{value:(_vm.formLeft.foodPrice),callback:function ($$v) {_vm.$set(_vm.formLeft, \"foodPrice\", $$v)},expression:\"formLeft.foodPrice\"}})],1),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateClick}},[_vm._v(\"确认修改\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n         <Avatar v-if=\"!showImg\" size='large'>暂无图片</Avatar>\r\n         <Avatar v-if=\"showImg\" :src=\"formPlaceholder.foodImage\" size='large'/>\r\n       <Upload :action='actionUrl' :data='formLeft' :on-success='uploadHandle' class='upload' :show-upload-list='false'>\r\n        <Button icon=\"ios-cloud-upload-outline\">修改头像</Button>\r\n    </Upload>\r\n     <Form :model=\"formLeft\" label-position=\"left\" :label-width=\"100\">\r\n        <FormItem label=\"食物名字\">\r\n            <Input v-model=\"formLeft.foodName\" :placeholder=\"formPlaceholder.foodName\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"食物描述\">\r\n            <Input v-model=\"formLeft.foodDescribe\" :placeholder=\"formPlaceholder.foodDescribe\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"食物价格\">\r\n            <Input v-model=\"formLeft.foodPrice\" :placeholder=\"formPlaceholder.foodPrice\"></Input>\r\n        </FormItem>\r\n        <Button @click=\"updateClick\" type=\"primary\">确认修改</Button>\r\n    </Form>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {selectOneFood,updateFood} from '@/api/api.js'\r\nexport default {\r\n    data(){\r\n        return{\r\n            //\r\n            showImg:false,\r\n            foodId:this.$route.query.foodId,\r\n            canteenId:this.$route.query.canteenId,\r\n            actionUrl:'http://www.canteen.com/api/adminServiceZuul/Food/uploadImg',\r\n            formLeft: {\r\n                    foodName: '',\r\n                    foodDescribe: '',\r\n                    foodPrice: '',\r\n                    foodId:this.$route.query.foodId,\r\n                    canteenId:this.$route.query.canteenId\r\n                },\r\n            formPlaceholder:{}\r\n        }\r\n    },\r\n    mounted(){\r\n        let data={foodId:this.foodId}\r\n        selectOneFood(data).then(res=>{\r\n            if(res.data.status==201){\r\n                  this.$Message.error('网络错误')\r\n                  return\r\n            }\r\n            let food=res.data.data\r\n\r\n            if(food.foodImage!=null&&food.foodImage!=''){    \r\n                this.showImg=true\r\n            }\r\n            this.formPlaceholder=food\r\n            this.formPlaceholder.foodPrice=food.foodPrice+''     \r\n        },err=>{\r\n            this.$Message.error('网络错误');\r\n        })\r\n    },\r\n    methods:{\r\n        updateClick(){\r\n            debugger\r\n            let b=this.formLeft\r\n            debugger\r\n            updateFood(this.formLeft).then(res=>{\r\n                    if(res.data.status==201){\r\n                        this.$Message.error('更新失败')\r\n                    }\r\n                    else{\r\n                        this.$Message.success('更新成功');\r\n                        this.$router.push({name:'sellerMain'})\r\n                    }\r\n            },err=>{\r\n                this.$Message.success(err);\r\n            })\r\n        },\r\n        uploadHandle(res,file){\r\n            if(res.status==200){\r\n                this.formPlaceholder.foodImage=res.data\r\n                this.showImg=true\r\n                this.$Message.success('图片上传成功')\r\n            }else{\r\n                 this.$Message.error('图片上传失败')\r\n            }\r\n        },\r\n\r\n          handleUpload (file) {\r\n                this.file = file;\r\n                return false;\r\n            },\r\n            updateClick () {\r\n                this.loadingStatus = true;\r\n                setTimeout(() => {\r\n                    this.file = null;\r\n                    this.loadingStatus = false;                    \r\n                }, 1500);\r\n                updateFood(this.formLeft).then(res=>{\r\n                    if(res.data.status==200){\r\n                        this.$Message.success('更新成功')\r\n                        this.$router.push({name:'sellerMain'})\r\n                    }\r\n                    else{\r\n                        this.$Message.error('更新失败')\r\n                    }\r\n                },err=>{\r\n                    this.$Message.error('网络错误')\r\n                })\r\n\r\n            }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.upload{\r\n    margin-top: 20px\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./update-food.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./update-food.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./update-food.vue?vue&type=template&id=ae332a04&\"\nimport script from \"./update-food.vue?vue&type=script&lang=js&\"\nexport * from \"./update-food.vue?vue&type=script&lang=js&\"\nimport style0 from \"./update-food.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./update-food.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./update-food.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}