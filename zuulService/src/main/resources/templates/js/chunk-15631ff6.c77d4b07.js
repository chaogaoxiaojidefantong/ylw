(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15631ff6"],{1192:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"orderhome"},[n("p",{staticClass:"pp"},[e._v("近期订单")]),n("Modal",{attrs:{title:"评价"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[n("Input",{attrs:{type:"textarea",rows:4,placeholder:"Enter something..."},model:{value:e.commentContent,callback:function(t){e.commentContent=t},expression:"commentContent"}}),n("Rate",{attrs:{"allow-half":""},model:{value:e.valueHalf,callback:function(t){e.valueHalf=t},expression:"valueHalf"}})],1),e._l(e.orderVoList,function(t){return[n("Card",{key:t.orderId,staticClass:"ordercard"},[n("p",[e._v("创建时间:"+e._s(t.orderTime))]),n("p",[e._v("支付金额:"+e._s(t.allPrice))]),0==t.orderState?n("p",[e._v("未接单")]):e._e(),1==t.orderState?n("p",[e._v("已接单")]):e._e(),2==t.orderState?n("p",[e._v("已完成")]):e._e(),3==t.orderState?n("p",[e._v("已评价")]):e._e(),2==t.orderState?n("Button",{attrs:{type:"warning"},on:{click:function(n){return e.commentPage(t)}}},[e._v("评价")]):e._e(),n("br"),e._l(t.foodAndNum,function(t){return[n("a",{key:t.foodId,on:{click:function(n){return e.goCanteen(t.canteenId)}}},[e._v("\r\n                 "+e._s(t.foodName)+"   \r\n                ")]),n("b",{key:t.foodId},[e._v("\r\n                  "+e._s(t.foodNum)+"         \r\n                ")])]})],2)]})],2)},r=[],a=n("4ec3"),s={data(){return{user:"",orderVoList:[],modal1:!1,commentContent:"",commentVo:"",valueHalf:2.5}},methods:{goCanteen(e){this.$router.push({name:"clientFoodList",query:{canteenId:e}})},commentPage(e){this.modal1=!0,this.commentVo=e},ok(){if(!this.commentContent)return void this.$Message.error("请输入评论内容");let e=this.commentVo.foodAndNum,t=e[0].canteenId,n={commentContent:this.commentContent,userId:this.user.userId,orderId:this.commentVo.orderId,canteenId:t};Object(a["c"])(n).then(e=>{this.$Message.success("评价成功"),this.$router.push({name:"canteenList"})})},cancel(){}},mounted(){this.user=JSON.parse(localStorage.getItem("user"));let e={userId:this.user.userId};Object(a["H"])(e).then(e=>{this.orderVoList=e.data.data})}},c=s,d=(n("c24a"),n("2877")),l=Object(d["a"])(c,o,r,!1,null,null,null);t["default"]=l.exports},bf31:function(e,t,n){},c24a:function(e,t,n){"use strict";var o=n("bf31"),r=n.n(o);r.a}}]);
//# sourceMappingURL=chunk-15631ff6.c77d4b07.js.map