(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b41ad0a"],{"0d0f":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.showImg?e._e():o("Avatar",{attrs:{size:"large"}},[e._v("暂无图片")]),e.showImg?o("Avatar",{attrs:{src:e.formPlaceholder.foodImage,size:"large"}}):e._e(),o("Upload",{staticClass:"upload",attrs:{action:e.actionUrl,data:e.formLeft,"on-success":e.uploadHandle,"show-upload-list":!1}},[o("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[e._v("修改头像")])],1),o("Form",{attrs:{model:e.formLeft,"label-position":"left","label-width":100}},[o("FormItem",{attrs:{label:"食物名字"}},[o("Input",{attrs:{placeholder:e.formPlaceholder.foodName},model:{value:e.formLeft.foodName,callback:function(t){e.$set(e.formLeft,"foodName",t)},expression:"formLeft.foodName"}})],1),o("FormItem",{attrs:{label:"食物描述"}},[o("Input",{attrs:{placeholder:e.formPlaceholder.foodDescribe},model:{value:e.formLeft.foodDescribe,callback:function(t){e.$set(e.formLeft,"foodDescribe",t)},expression:"formLeft.foodDescribe"}})],1),o("FormItem",{attrs:{label:"食物价格"}},[o("Input",{attrs:{placeholder:e.formPlaceholder.foodPrice},model:{value:e.formLeft.foodPrice,callback:function(t){e.$set(e.formLeft,"foodPrice",t)},expression:"formLeft.foodPrice"}})],1),o("Button",{attrs:{type:"primary"},on:{click:e.updateClick}},[e._v("确认修改")])],1)],1)},a=[],r=o("4ec3"),l={data(){return{showImg:!1,foodId:this.$route.query.foodId,canteenId:this.$route.query.canteenId,actionUrl:"http://www.canteen.com/api/adminServiceZuul/Food/uploadImg",formLeft:{foodName:"",foodDescribe:"",foodPrice:"",foodId:this.$route.query.foodId,canteenId:this.$route.query.canteenId},formPlaceholder:{}}},mounted(){let e={foodId:this.foodId};Object(r["E"])(e).then(e=>{if(201==e.data.status)return void this.$Message.error("网络错误");let t=e.data.data;null!=t.foodImage&&""!=t.foodImage&&(this.showImg=!0),this.formPlaceholder=t,this.formPlaceholder.foodPrice=t.foodPrice+""},e=>{this.$Message.error("网络错误")})},methods:{updateClick(){this.formLeft;Object(r["J"])(this.formLeft).then(e=>{201==e.data.status?this.$Message.error("更新失败"):(this.$Message.success("更新成功"),this.$router.push({name:"sellerMain"}))},e=>{this.$Message.success(e)})},uploadHandle(e,t){200==e.status?(this.formPlaceholder.foodImage=e.data,this.showImg=!0,this.$Message.success("图片上传成功")):this.$Message.error("图片上传失败")},handleUpload(e){return this.file=e,!1},updateClick(){this.loadingStatus=!0,setTimeout(()=>{this.file=null,this.loadingStatus=!1},1500),Object(r["J"])(this.formLeft).then(e=>{200==e.data.status?(this.$Message.success("更新成功"),this.$router.push({name:"sellerMain"})):this.$Message.error("更新失败")},e=>{this.$Message.error("网络错误")})}}},d=l,i=(o("3433"),o("2877")),f=Object(i["a"])(d,s,a,!1,null,null,null);t["default"]=f.exports},"2bf3":function(e,t,o){},3433:function(e,t,o){"use strict";var s=o("2bf3"),a=o.n(s);a.a}}]);
//# sourceMappingURL=chunk-3b41ad0a.69bfc233.js.map