(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ccf9e6e"],{"1b16":function(e,t,s){"use strict";var r=s("d1ea"),a=s.n(r);a.a},"782d":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"addresspageDiv"},[s("b",{staticClass:"adp"},[e._v("地址管理")]),s("hr"),e._l(e.addressList,function(t){return[s("Card",{key:t.addressId,staticClass:"addresspageDiv-card"},[s("p",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.userName))]),s("a",{attrs:{slot:"extra"},on:{click:function(s){return e.updateButton(t)}},slot:"extra"},[e._v("修改")]),s("Divider",{attrs:{slot:"extra",type:"vertical"},slot:"extra"}),s("a",{attrs:{slot:"extra"},on:{click:function(s){return e.delOneButton(t.addressId)}},slot:"extra"},[e._v("删除")]),s("p",[e._v(e._s(t.userAddress))]),s("p",[e._v("电话:"+e._s(t.userPhone))])],1)]}),s("br"),s("Button",{attrs:{type:"primary"},on:{click:e.addButton}},[e._v("添加新地址")]),s("Modal",{attrs:{title:e.modalTitle},on:{"on-ok":e.addok,"on-cancel":e.addcancel},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[s("Form",{attrs:{model:e.formLeft,"label-position":"left","label-width":100}},[s("FormItem",{attrs:{label:"姓名"}},[s("Input",{model:{value:e.formLeft.userName,callback:function(t){e.$set(e.formLeft,"userName",t)},expression:"formLeft.userName"}})],1),s("FormItem",{attrs:{label:"地址"}},[s("Input",{model:{value:e.formLeft.address,callback:function(t){e.$set(e.formLeft,"address",t)},expression:"formLeft.address"}})],1),s("FormItem",{attrs:{label:"电话"}},[s("Input",{model:{value:e.formLeft.userPhone,callback:function(t){e.$set(e.formLeft,"userPhone",t)},expression:"formLeft.userPhone"}})],1)],1)],1)],2)},a=[],o=s("4ec3"),d=s("5118"),u={data(){return{updateNow:!1,modalTitle:"添加新地址",addressList:[],modal1:!1,formLeft:{userName:"",address:"",userPhone:"",userEmail:"",addressId:""},user:""}},mounted(){this.user=JSON.parse(localStorage.getItem("user"));let e={userId:this.user.userId};Object(o["x"])(e).then(e=>{this.addressList=e.data.data})},methods:{addButton(){this.modal1=!0,this.modalTitle="添加新地址"},updateButton(e){this.modalTitle="修改地址",this.formLeft.userName=e.userName,this.formLeft.address=e.userAddress,this.formLeft.userPhone=e.userPhone,this.formLeft.userEmail=e.userEmail,this.formLeft.addressId=e.addressId,this.updateNow=!0,this.modal1=!0},delOneButton(e){let t={addressId:e};Object(o["j"])(t).then(e=>{this.$router.push({name:"blank"}),Object(d["setTimeout"])(()=>{this.$router.push({name:"addresspage"})},1)})},addok(){if(this.updateNow){let e={userName:this.formLeft.userName,userPhone:this.formLeft.userPhone,userEmail:this.formLeft.userEmail,userAddress:this.formLeft.address,userId:this.user.userId,addressId:this.formLeft.addressId};Object(o["K"])(e).then(e=>{this.$router.push({name:"blank"}),Object(d["setTimeout"])(()=>{this.$router.push({name:"addresspage"})},10)})}else{let e=this.formLeft.userPhone;if(11!=e.length)return void this.$Message.error("手机号格式错误");let t={userName:this.formLeft.userName,userPhone:this.formLeft.userPhone,userEmail:this.formLeft.userEmail,userAddress:this.formLeft.address,userId:this.user.userId};Object(o["b"])(t).then(e=>{this.$router.push({name:"blank"}),Object(d["setTimeout"])(()=>{this.$router.push({name:"addresspage"})},1)})}},addcancel(){this.formLeft.userName="",this.formLeft.userPhone="",this.formLeft.userEmail="",this.formLeft.address=""}}},i=u,l=(s("1b16"),s("2877")),n=Object(l["a"])(i,r,a,!1,null,null,null);t["default"]=n.exports},d1ea:function(e,t,s){}}]);
//# sourceMappingURL=chunk-7ccf9e6e.96d4216f.js.map