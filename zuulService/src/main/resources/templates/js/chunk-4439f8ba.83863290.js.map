{"version":3,"sources":["webpack:///./src/views/client/food-list.vue?cd20","webpack:///src/views/client/food-list.vue","webpack:///./src/views/client/food-list.vue?fe2a","webpack:///./src/views/client/food-list.vue","webpack:///./src/views/client/food-list.vue?7d47"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","span","push","src","canteenObj","canteenImage","_v","_s","canteenName","collectState","_e","type","shape","size","on","click","collect","ghost","mode","theme","active-name","name","nativeOn","$event","getFoodList","foodDesc","commentPage","search","enter-button","placeholder","on-search","selectName","_l","food","key","foodId","slot","foodName","allow-half","value","foodRate","foodImage","foodPrice","foodSale","foodVo","cartReduceOneFood","foodNum","foodAddNum","comment","commentId","order","createdTime","user","userName","commentContent","clearCartButton","cartObj","allPrice","goOrderPage","staticRenderFns","food_listvue_type_script_lang_js_","[object Object]","canteenId","$route","query","foodList","shopcartList","cartButtonShow","commentList","JSON","parse","localStorage","getItem","data","Object","api","then","res","err","$Message","error","param","userId","cardData","result","foodVoList","cart","methods","length","$router","val","cartId","main","status","success","client_food_listvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_food_list_vue_vue_type_style_index_0_id_4f9c6ba3_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_food_list_vue_vue_type_style_index_0_id_4f9c6ba3_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-4439f8ba.83863290.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Row',{staticClass:\"row\"},[_c('Col',{attrs:{\"span\":\"5\",\"push\":\"3\"}},[_c('img',{staticClass:\"canteen-img\",attrs:{\"src\":_vm.canteenObj.canteenImage}})]),_c('Col',{staticClass:\"row-b\",attrs:{\"span\":\"12\"}},[_c('b',[_vm._v(_vm._s(_vm.canteenObj.canteenName))])]),_c('Col',{attrs:{\"span\":\"6\",\"push\":\"2\"}},[(!_vm.collectState)?_c('Button',{staticClass:\"row-co\",attrs:{\"type\":\"warning\",\"shape\":\"circle\",\"size\":\"large\"},on:{\"click\":_vm.collect}},[_vm._v(\"收藏\")]):_vm._e(),(_vm.collectState)?_c('Button',{staticClass:\"row-co\",attrs:{\"type\":\"success\",\"shape\":\"circle\",\"ghost\":true,\"size\":\"large\"},on:{\"click\":_vm.collect}},[_vm._v(\"取消收藏\")]):_vm._e()],1)],1),_c('hr'),_c('Menu',{attrs:{\"mode\":\"horizontal\",\"theme\":\"light\",\"active-name\":\"1\"}},[_c('MenuItem',{staticClass:\"menu-b\",attrs:{\"name\":\"1\"},nativeOn:{\"click\":function($event){return _vm.getFoodList($event)}}},[_vm._v(\"           \\r\\n            更新时间\\r\\n             \"),_c('Divider',{attrs:{\"type\":\"vertical\"}})],1),_c('MenuItem',{staticClass:\"menu-b\",attrs:{\"name\":\"2\"},nativeOn:{\"click\":function($event){return _vm.foodDesc($event)}}},[_vm._v(\"         \\r\\n            销量\\r\\n             \"),_c('Divider',{attrs:{\"type\":\"vertical\"}})],1),_c('MenuItem',{staticClass:\"menu-b\",attrs:{\"name\":\"3\"},nativeOn:{\"click\":function($event){return _vm.commentPage($event)}}},[_vm._v(\"          \\r\\n            评价\\r\\n        \")]),_c('Input',{staticClass:\"clientsearchInput\",attrs:{\"search\":\"\",\"enter-button\":\"\",\"placeholder\":\"搜索食品\",\"size\":\"large\"},on:{\"on-search\":_vm.selectName}})],1),_c('hr'),_c('div',[_c('div',{staticClass:\"div-middle\"},[_vm._l((this.foodList),function(food){return [_c('Card',{key:food.foodId,staticClass:\"food-card\"},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('p',[_vm._v(_vm._s(food.foodName))]),_c('Rate',{attrs:{\"allow-half\":\"\",\"value\":food.foodRate}})],1),_c('img',{staticClass:\"food-img\",attrs:{\"src\":food.foodImage}}),_c('b',{staticClass:\"food-font\"},[_vm._v(\"$\"+_vm._s(food.foodPrice))]),_c('br'),_c('b',{staticClass:\"food-font\"},[_vm._v(\"销量:\"+_vm._s(food.foodSale))]),_c('br'),_vm._l((_vm.shopcartList),function(foodVo){return [(foodVo.foodId==food.foodId)?_c('ButtonGroup',{key:foodVo.foodId},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.cartReduceOneFood(foodVo)}}},[_vm._v(\"-\")]),_c('Button',[_vm._v(_vm._s(foodVo.foodNum))]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.foodAddNum(foodVo)}}},[_vm._v(\"+\")])],1):_vm._e()]}),_c('br'),_c('Button',{staticClass:\"foodButton\",attrs:{\"type\":\"primary\",\"shape\":\"circle\"},on:{\"click\":function($event){return _vm.foodAddNum(food)}}},[_vm._v(\"加入购物车\")])],2)]}),_vm._l((_vm.commentList),function(comment){return [_c('Card',{key:comment.commentId,staticClass:\"card\"},[_c('p',[_vm._v(\"评论时间:\"+_vm._s(comment.order.createdTime))]),_c('p',[_vm._v(\"用户名:\"+_vm._s(comment.user.userName))]),_c('p',[_vm._v(\"评论内容:\"+_vm._s(comment.commentContent))])])]})],2),_c('div',{staticClass:\"cart-div\"},[_c('Card',{staticClass:\"shopcart\"},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"购物车\")]),_c('a',{attrs:{\"slot\":\"extra\"},on:{\"click\":_vm.clearCartButton},slot:\"extra\"},[_vm._v(\"清空\")]),_vm._l((_vm.shopcartList),function(foodVo){return [_c('div',{key:foodVo.foodId},[_c('hr'),_c('Row',[_c('Col',{attrs:{\"span\":\"5\"}},[_vm._v(_vm._s(foodVo.foodName))]),_c('Col',{attrs:{\"span\":\"10\"}},[_c('ButtonGroup',{key:foodVo.foodId},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.cartReduceOneFood(foodVo)}}},[_vm._v(\"-\")]),_c('Button',[_vm._v(_vm._s(foodVo.foodNum))]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.foodAddNum(foodVo)}}},[_vm._v(\"+\")])],1)],1),_c('Col',{attrs:{\"span\":\"5\"}},[_vm._v(\"数量:\"+_vm._s(foodVo.foodNum))])],1)],1)]}),_c('hr'),_c('b',{staticClass:\"allPrice\"},[_vm._v(\"￥\"+_vm._s(_vm.cartObj.allPrice))]),_c('Button',{staticClass:\"makebutton\",attrs:{\"type\":\"success\"},on:{\"click\":_vm.goOrderPage}},[_vm._v(\"去结算\")])],2)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n<Row class=\"row\">\r\n        <Col span=\"5\" push='3'><img :src='canteenObj.canteenImage' class=\"canteen-img\"/></Col>\r\n        <Col span=\"12\" class='row-b'><b >{{canteenObj.canteenName}}</b></Col>\r\n        <Col span=\"6\" push='2'><Button type=\"warning\" shape=\"circle\" v-if=\"!collectState\"  size='large' class='row-co' @click=\"collect\">收藏</Button><Button type=\"success\" shape=\"circle\" v-if=\"collectState\" :ghost='true' size='large' class='row-co' @click=\"collect\">取消收藏</Button></Col>\r\n    </Row>\r\n    <hr>    \r\n     <Menu mode=\"horizontal\" theme=\"light\" active-name=\"1\" >\r\n        <MenuItem name=\"1\" class=\"menu-b\" @click.native=\"getFoodList\">           \r\n            更新时间\r\n             <Divider type=\"vertical\" />\r\n        </MenuItem>\r\n        <MenuItem name=\"2\" class=\"menu-b\"  @click.native=\"foodDesc\">         \r\n            销量\r\n             <Divider type=\"vertical\" />\r\n        </MenuItem>\r\n        <MenuItem name=\"3\" class=\"menu-b\" @click.native=\"commentPage\">          \r\n            评价\r\n        </MenuItem>\r\n           <Input search enter-button placeholder=\"搜索食品\" size='large' class='clientsearchInput' @on-search=\"selectName\"/>     \r\n    </Menu>\r\n    <hr>\r\n    <div>\r\n    <div class='div-middle'>\r\n        <template v-for=\"food in this.foodList\">\r\n        <Card :key=\"food.foodId\" class='food-card'>\r\n                <div slot=\"title\"><p>{{food.foodName}}</p><Rate allow-half  :value='food.foodRate'/></div>\r\n                <img :src='food.foodImage' class='food-img'/>\r\n                <b class='food-font'>${{food.foodPrice}}</b>\r\n                <br>\r\n                <b class='food-font'>销量:{{food.foodSale}}</b>\r\n                <br>\r\n                <template v-for=\"foodVo in shopcartList\">\r\n    <ButtonGroup :key=\"foodVo.foodId\" v-if=\"foodVo.foodId==food.foodId\">\r\n        <Button type=\"primary\" @click=\"cartReduceOneFood(foodVo)\">-</Button>\r\n         <Button >{{foodVo.foodNum}}</Button>\r\n        <Button type=\"primary\"  @click=\"foodAddNum(foodVo)\">+</Button>\r\n    </ButtonGroup>\r\n                </template>\r\n                <br>\r\n                 <Button type=\"primary\" shape=\"circle\" class='foodButton' @click=\" foodAddNum(food)\">加入购物车</Button>\r\n            </Card> \r\n        </template> \r\n        <template v-for=\"comment in commentList\">\r\n     <Card :key=\"comment.commentId\" class='card'>\r\n                <p>评论时间:{{comment.order.createdTime}}</p>\r\n                <p>用户名:{{comment.user.userName}}</p>\r\n                <p>评论内容:{{comment.commentContent}}</p>\r\n            </Card>\r\n    </template>     \r\n    </div>\r\n    <div class=\"cart-div\">\r\n     <Card class='shopcart'>\r\n                <p slot=\"title\">购物车</p>\r\n                <a slot=\"extra\"  @click=\"clearCartButton\">清空</a>\r\n                <template v-for=\"foodVo in shopcartList\">\r\n                 <div :key=\"foodVo.foodId\" >\r\n                     <hr />\r\n                   <Row >                      \r\n                    <Col span=\"5\">{{foodVo.foodName}}</Col>\r\n                    <Col span=\"10\">\r\n                    <ButtonGroup :key=\"foodVo.foodId\" >\r\n        <Button type=\"primary\" @click=\"cartReduceOneFood(foodVo)\">-</Button>\r\n         <Button >{{foodVo.foodNum}}</Button>                                                                                                              \r\n        <Button type=\"primary\"  @click=\"foodAddNum(foodVo)\">+</Button>\r\n    </ButtonGroup></Col>\r\n                     <Col span=\"5\">数量:{{foodVo.foodNum}}</Col>     \r\n                   </Row>                    \r\n                </div>   \r\n                </template>\r\n                <hr>\r\n                <b class='allPrice'>￥{{cartObj.allPrice}}</b>\r\n                 <Button type=\"success\" class=\"makebutton\" @click=\"goOrderPage\">去结算</Button>\r\n            </Card>  \r\n            </div>  \r\n    </div>  \r\n</div>\r\n</template>\r\n<script>\r\nimport {selectManyFood,getOneCanteen,collectCanteen,cancelCollectCanteen,selectOneUserCollect,selectOneCart,foodAddNum,foodReduceOneNum,clearCart,selectByFoodName,selectManyFoodDesc,selectManyComment} from '@/api/api.js'\r\nimport { setTimeout } from 'timers';\r\nexport default {\r\n    data(){\r\n        return{\r\n            canteenId:this.$route.query.canteenId,\r\n            canteenObj:{},\r\n            //是否已收藏，如果收藏则为true,没收藏则为false\r\n            collectState:false,\r\n            user:'',\r\n            foodList:'',\r\n            shopcartList:[],\r\n            cartButtonShow:true,//是否显示加上购物车那个按钮\r\n            cartObj:'',\r\n            commentList:[]\r\n        }\r\n    },\r\n    mounted(){\r\n        this.user=JSON.parse(localStorage.getItem('user'))\r\n        let data={canteenId:this.canteenId}\r\n        this.getFoodList()\r\n        getOneCanteen(data).then(res=>{\r\n            this.canteenObj=res.data.data\r\n        },err=>{\r\n            this.$Message.error('网络错误')\r\n        })\r\n        let param={canteenId:this.canteenId,userId:this.user.userId}\r\n        //判断用户是否已收藏这个食堂\r\n        selectOneUserCollect(param).then(res=>{\r\n            if(!res.data.data){\r\n                this.collectState=false\r\n                return\r\n            }\r\n            this.collectState=true\r\n        },err=>{\r\n           this.$Message.error('网络错误')     \r\n        })\r\n        //查询这个用户的购物车\r\n        let cardData={userId:this.user.userId}\r\n        selectOneCart(cardData).then(res=>{           \r\n            let result=res.data.data\r\n            this.shopcartList=result.foodVoList\r\n            this.cartObj=result.cart\r\n        })\r\n    },\r\n    methods:{\r\n         //通过更新时间来排行\r\n        getFoodList(){\r\n            this.commentList=[]\r\n            let data={canteenId:this.canteenId}\r\n            selectManyFood(data).then(res=>{\r\n            this.foodList=res.data.data\r\n        })\r\n        },\r\n        //按照销量来排行\r\n        foodDesc(){\r\n             this.commentList=[]\r\n            let data={canteenId:this.canteenId}\r\n            selectManyFoodDesc(data).then(res=>{\r\n                this.foodList=res.data.data\r\n            })\r\n        },\r\n        //打开评论\r\n        commentPage(){\r\n            //this.$router.push({name:'commentpage',query:{canteenId:this.canteenId}})\r\n        this.foodList=[]\r\n        let data={canteenId:this.canteenId}\r\n        selectManyComment(data).then(res=>{\r\n            this.commentList=res.data.data\r\n        })\r\n            \r\n        },\r\n        //打开付款时的订单页面\r\n        goOrderPage(){\r\n            if(this.shopcartList.length==0){\r\n                this.$Message.error('亲，还没选择商品')\r\n                return\r\n            }\r\n            this.$router.push({name:'orderpage'})\r\n        },\r\n        //模糊查询食品名称\r\n        selectName(val){\r\n            let data={foodName:val,canteenId:this.canteenId}         \r\n            selectByFoodName(data).then(res=>{\r\n               this.foodList=res.data.data\r\n            })\r\n        },\r\n        clearCartButton(){\r\n            let data={cartId:this.user.cartId}\r\n            clearCart(data).then(res=>{\r\n                  this.$router.push({name:'blank'}) \r\n                   setTimeout(() => {\r\n                        this.$router.push({name:'clientFoodList',query:{canteenId:this.canteenId}})\r\n                   }, 1); \r\n            })\r\n        },\r\n        //往购物车里添加某样食品\r\n        foodAddNum(foodVo){\r\n            let data={foodId:foodVo.foodId,cartId:this.user.cartId,userId:this.user.userId}\r\n            foodAddNum(data).then(res=>{               \r\n                let result=res.data.data\r\n                this.shopcartList=result.foodVoList\r\n                this.cartObj=result.cart\r\n            })\r\n        },\r\n\r\n        cartReduceOneFood(foodVo){\r\n            let data={foodId:foodVo.foodId,cartId:this.user.cartId,userId:this.user.userId}\r\n            foodReduceOneNum(data).then(res=>{\r\n                let result=res.data.data\r\n                this.shopcartList=result.foodVoList\r\n                this.cartObj=result.cart\r\n            })\r\n        },\r\n\r\n        collect(){          \r\n            let data={userId:this.user.userId,canteenId:this.canteenObj.canteenId}\r\n            if(!this.collectState){              \r\n                collectCanteen(data).then(res=>{\r\n                    if(res.data.status==200){\r\n                     this.$Message.success('收藏成功')  \r\n                    }                    \r\n                })\r\n            }else{\r\n                cancelCollectCanteen(data).then(res=>{\r\n                    if(res.data.status==200){\r\n                        this.$Message.success('取消收藏成功')\r\n                    }\r\n                })\r\n            }  \r\n             this.collectState=!this.collectState                \r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@media screen{\r\n    .row{\r\n   padding-top:10px;\r\n   padding-bottom:10px;\r\n  background-image: url('../../assets/4.png');\r\n  .canteen-img{\r\n       border-radius: 90px;\r\n  }\r\n  .row-b{\r\n      font-size:30px;\r\n      padding-top:30px;\r\n  }\r\n}\r\n.row-co{\r\n    margin-top:30px\r\n}\r\n.clientsearchInput{\r\n    width:300px !important;\r\n    padding-top:15px;\r\n    margin-left:1200px;\r\n}\r\n.div-middle{\r\nwidth:900px;\r\nmargin-left:50px;\r\n    .card{\r\n        width:1000px;\r\n        height:200px;\r\n        margin:20px 0px 20px 0px;\r\n        p{\r\n            margin-top:20px;\r\n        }\r\n    }\r\n}\r\n.div-right{\r\n\r\n}\r\n.food-card{\r\n    width: 400px;\r\n    display:inline-block;\r\n    margin:20px 20px 20px 20px\r\n}\r\n\r\n.food-img{\r\n    width: 70px;\r\n    height:70px;\r\n    margin-right:20px;\r\n}\r\n\r\n.food-font{\r\n    font-size:20px;\r\n    color:red;\r\n}\r\n.foodButton{\r\n    margin:5px 0px 10px 10px;\r\n}\r\n.cart-div{\r\n    position:relative;\r\n}\r\n.shopcart{\r\n    width:350px;\r\n    position:fixed;\r\n    bottom:15px;\r\n    right:15px;\r\n    .makebutton{\r\n        margin-left:200px;\r\n    }\r\n}\r\n.allPrice{\r\n    size:15px;\r\n}\r\n.menu-b{\r\n    font-size: 20px;\r\n}\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./food-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./food-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./food-list.vue?vue&type=template&id=4f9c6ba3&scoped=true&\"\nimport script from \"./food-list.vue?vue&type=script&lang=js&\"\nexport * from \"./food-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./food-list.vue?vue&type=style&index=0&id=4f9c6ba3&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f9c6ba3\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./food-list.vue?vue&type=style&index=0&id=4f9c6ba3&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./food-list.vue?vue&type=style&index=0&id=4f9c6ba3&lang=less&scoped=true&\""],"sourceRoot":""}